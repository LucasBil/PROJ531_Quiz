{% extends 'base.html.twig' %}

{% block title %}Quiz: {{ quiz.name }}{% endblock %}

{% block stylesheets %}
    <style>
        .text-primary-purple {
            color: #8c52ff;
        }

        .btn-primary-purple {
            background-color: #8c52ff;
            color: white;
        }
    </style>
{% endblock %}

{% block body %}
    <!--#region Quiz info -->
    <div class="d-flex mx-2 mb-2">
        <div style="height: 75px; width: 75px;" class="bg-primary-purple rounded"></div>
        <div class="d-flex flex-column justify-content-center gap-1 px-2 my-2
                border-top border-end border-bottom rounded-end border-black
                flex-grow-1 fw-bold">
            <p class="mb-0 fs-6">{{ quiz.name }}</p>
            <div class="d-flex text-primary-purple gap-3">
                <div class="d-flex align-items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="16" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
                    </svg>
                    <p class="mb-0">{{ quiz.difficulty|capitalize }}</p>
                </div>
                <div class="d-flex align-items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="16" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5" />
                    </svg>
                    <p class="mb-0">{{ quiz.getIdTheme().name }}</p>
                </div>
            </div>
        </div>
    </div>
    <!--#endregion -->
    <!--#region Quiz -->
    <form action="" class="d-flex flex-column gap-2">
        {# Itération sur les questions du quiz #}
        {% for question in quiz.questions %}
            <div class="d-flex flex-column align-items-center py-1">
                <div style="border: 4px solid #8c52ff; width: 45px; height: 45px;" class="rounded-circle d-flex justify-content-center align-items-center">
                    <p class="mb-0">{{ loop.index }}</p>
                </div>
                <p class="fs-6 fw-light mb-3 mt-1">{{ question.statement|capitalize }}</p>

                <div style="width: 75%;" class="d-flex flex-wrap gap-2">
                    {# Itération sur les réponses possibles de chaque question #}
                    {% for answer in question.possibleAnswers %}
                        <input type="radio" class="btn-check" name="{{ question.id }}" id="{{ answer.id }}" autocomplete="off">
                        <label style="min-width: 48%;" class="btn btn-primary-purple flex-grow-1" for="{{ answer.id }}">{{ answer.value }}</label>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
        <button type="submit" class="btn btn-success m-3 w-25 align-self-end">Envoyer</button>
    </form>
    <!--#endregion -->
{% endblock %}
